id: pricing_calculator_box
type: Box
layout:
  contentJustify: center
events:
  onMount:
    - id: init_calculator
      type: SetState
      params:
        monthly_users_lt_30: -0.2
        session_durations: 0
        monthly_users_gt_30: -0.2
blocks:
  - id: pricing_calculator_left_section
    type: Box
    style:
      borderRadius: 40px 0px 0px 40px
      padding: 60px 40px 80px 60px
      backgroundColor: rgba(256,256,256,0.5)
    blocks:
      _ref: pages/pricing/sections/pricing_calculator/sliders.yaml
  - id: pricing_calculator_right_section
    type: Box
    layout:
      contentDirection: column
    blocks:
      - id: pricing_calculator_right_top_section
        type: Box
        layout:
          flex: 0 0 400px
        style:
          borderRadius: 0px 40px 0px 0px
          backgroundColor: '#1965F3'
          textAlign: right
          paddingTop: 30px
        blocks:
          - id: pricing_breakdown_title
            type: Title
            style:
              textAlign: center
              marginBottom: 10px
            properties:
              content: Pricing Breakdown
              color: white
              level: 4
          - id: pricing_breakdown
            type: Html
            properties:
              html:
                _nunjucks:
                  template: |
                    <div>
                      <div style="text-align: center;"><b>Pro Rata Users</b></div>
                      <div class="pricing-grid">
                        <div class="pricing-grid-item"></div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">{{ usage_users }}</div>
                        <div class="pricing-grid-item" style="justify-self: start;">users</div>
                        <div class="pricing-grid-item" style="justify-self: end;">x</div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">{{ usage_users_hours }}</div>
                        <div class="pricing-grid-item" style="justify-self: start;">hours</div>
                        <div class="pricing-grid-item" style="justify-self: end;">x</div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">0.5</div>
                        <div class="pricing-grid-item" style="justify-self: start;">$/hour/user</div>
                      </div>
                      <hr style="width: 100%; background-color: black; margin-top: -20px;">
                      <div class="pricing-grid">
                        <div class="pricing-grid-item" style="justify-self: end;">$</div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">{{ usage_users_total }}</div>
                        <div class="pricing-grid-item"></div>
                      </div>
                      <div style="text-align: center;"><b>Flat Rate Users</b></div>
                      <div class="pricing-grid">
                        <div class="pricing-grid-item"></div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">{{ flat_rate_users }}</div>
                        <div class="pricing-grid-item" style="justify-self: start;">users</div>
                        <div class="pricing-grid-item" style="justify-self: end;">x</div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">15</div>
                        <div class="pricing-grid-item" style="justify-self: start;">$/user</div>
                      </div>
                      <hr style="width: 100%; background-color: black; margin-top: -20px;">
                      <div class="pricing-grid">
                        <div class="pricing-grid-item" style="justify-self: end;">$</div>
                        <div class="pricing-grid-item" style="justify-self: end; padding-right: 10px;">{{ flat_rate_total }}</div>
                        <div class="pricing-grid-item"></div>
                      </div>
                    </div>
                  on:
                    usage_users:
                      _if_none:
                        - _state: pricing_calculator.usage_users
                        - 0
                    usage_users_hours:
                      _state: session_durations
                    usage_users_total:
                      _if_none:
                        - _state: pricing_calculator.usage_total
                        - 0
                    flat_rate_users:
                      _if_none:
                        - _state: pricing_calculator.flat_rate_users
                        - 0
                    flat_rate_total:
                      _if_none:
                        - _state: pricing_calculator.flat_rate_total
                        - 0
                    total:
                      _state: pricing_calculator.total
      - id: pricing_calculator_right_bottom_section
        type: Box
        layout:
          flex: 0 0 200px
        style:
          backgroundColor: '#000000'
          borderRadius: 0px 0px 40px 0px
        blocks:
          - _ref: pages/pricing/sections/pricing_calculator/total.yaml
